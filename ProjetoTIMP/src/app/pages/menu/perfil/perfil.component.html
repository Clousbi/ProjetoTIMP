<div class="content">
    <div class="col-12 d-flex card" style="align-items: center; height: 100%;">
        <div class="col-12 d-flex row f-row">

            <div class="col-6 d-flex row mt-3 mb-3">
                <span>Informações Pessoais</span>
                <form [formGroup]="resourceForm">
                    <div class="col-12 d-flex f-col">
                        <label class="form-label" for="nome">Nome</label>
                        <input type="text" class="form-control" formControlName="nome" placeholder="Nome" id="nome" [(ngModel)]="nome">
                        <div class="erro" *ngIf="resourceForm.get('nome')?.errors">
                            Obrigatório
                        </div>
                    </div>
                    <div class="col-12 d-flex f-col">
                        <label class="form-label" for="nome">Email</label>
                        <input type="text" class="form-control" formControlName="email" placeholder="Email" id="Email" [(ngModel)]="email">
                        <div class="erro" *ngIf="resourceForm.get('email')?.errors">
                            Obrigatório
                        </div>
                    </div>
                    <div class="col-12 d-flex f-col">
                        <label class="form-label" for="nome">Data Nascimento</label>
                        <input type="date" class="form-control" formControlName="dataNasc" placeholder="Data Nascimento" id="dataNasc"
                            [(ngModel)]="dataNasc">
                        <div class="erro" *ngIf="resourceForm.get('dataNasc')?.errors">
                            Obrigatório
                        </div>
                    </div>
                    <hr class="mt-3 col-11" style="margin-left: 25px;">
                </form>
                <div class="mt-1">
                    <span style="border-bottom: 1px solid lightgray;"><strong>Redefinir Senha</strong></span>
                    <div class="col-12 d-flex f-col mt-2">
                        <label class="form-label" for="nome">Senha atual</label>
                        <div class="col-12 d-flex row">
                            <div class="col-8">
                                <input [type]="senhaVisivel0?'text':'password'" class="form-control" placeholder="Senha Atual" id="senhaA"
                                    [(ngModel)]="senhaAtual" [disabled]="senhaCorreta">
                            </div>
                            <div class="col-2" *ngIf="!senhaCorreta">
                                <button class="btn" (click)="visibilidade0()">
                                    <span class="material-symbols-outlined">{{senhaVisivel0?'visibility':'visibility_off'}}</span>
                                </button>
                            </div>
                            <div class="col-2">
                                <button class="btn btn-secondary btn-senha" *ngIf="!confereSenhaChamado" (click)="digitaSenha()"
                                    [disabled]="!senhaAtual || senhaCorreta">Enviar</button>
                                <div class="spinner-border" role="status" *ngIf="confereSenhaChamado">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 d-flex f-col mt-1">
                        <label class="form-label" for="nome">Nova Senha</label>
                        <div class="col-12 d-flex row">
                            <div class="col-10">
                                <input [type]="senhaVisivel?'text':'password'" class="form-control" placeholder="Senha Nova" id="senhaN"
                                    [disabled]="!senhaCorreta"
                                    [(ngModel)]="senhaNova1">
                            </div>
                            <div class="col-2">
                                <button class="btn" (click)="visibilidade()" *ngIf="senhaCorreta">
                                    <span class="material-symbols-outlined">{{senhaVisivel?'visibility':'visibility_off'}}</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 d-flex f-col mt-1">
                        <label class="form-label" for="nome">Repita a senha</label>
                        <div class="col-12 d-flex row">
                            <div class="col-10">
                                <input [type]="senhaVisivel2?'text':'password'" class="form-control" placeholder="Repita a senha"
                                    [disabled]="!senhaCorreta" id="senhaR"
                                    [(ngModel)]="senhaNova2">
                            </div>
                            <div class="col-2">
                                <button class="btn" (click)="visibilidade2()" *ngIf="senhaCorreta">
                                    <span class="material-symbols-outlined">{{senhaVisivel2?'visibility':'visibility_off'}}</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <span class="alert" *ngIf="(senhaNova1 && senhaNova2) && (senhaNova1 != senhaNova2)">Senhas não são iguais!</span>
                    <button class="btn btn-danger mt-3" *ngIf="(senhaNova1 && senhaNova2) && (senhaNova1 == senhaNova2) && !alteraSenhaChamado"
                        (click)="atualizarSenha()">Alterar
                        Senha</button>
                    <div class="spinner-border" role="status" style="margin-left: 5px; margin-top: 3px;"
                        *ngIf="(senhaNova1 && senhaNova2) && (senhaNova1 == senhaNova2) && alteraSenhaChamado">
                        <span class="visually-hidden">Loading...</span>
                    </div>

                </div>
            </div>
            <div class="col-6 d-flex row mt-3 mb-3">
                <div class="col-12 d-flex row">
                    <span>Foto de Perfil</span>
                    <div class="col-12 d-flex" style="height: 50px; padding: 5px;">
                        <label for="picture__input" tabIndex="0">
                            <span class="picture__image img-fluid"></span>
                        </label>
                        <input type="file" name="picture__input" class="img-fluid" id="picture__input" (change)="enviarImagem()">
                    </div>
                    <div class="col-12 d-flex row">
                        <div class="logoMarca text-center">
                            <img src="{{logo}}" style="display: none; cursor: pointer;" *ngIf="logo != null"
                                class="img-fluid d-flex" alt>
                        </div>
                    </div>
                </div>
            </div>
            <button *ngIf="!salvarDadosChamado" class="btn btn-success btn-salvar" (click)="atualizarDados()" [disabled]="resourceForm.untouched">Salvar</button>
            <div class="spinner-border load-salvar" role="status" *ngIf="salvarDadosChamado">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>
</div>
